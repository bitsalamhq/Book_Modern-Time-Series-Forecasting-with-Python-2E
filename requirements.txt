# ============================================================================
# PYTORCH ECOSYSTEM — Install FIRST with GPU support
# ============================================================================
# Install separately with: pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
# torch>=2.5.0,<3.0.0  # Handled by separate install command
# torchvision>=0.20.0,<1.0.0  # Handled by separate install command
# torchaudio>=2.5.0,<3.0.0  # Handled by separate install command

pytorch-lightning>=2.4.0,<3.0.0
pytorch_optimizer>=3.1.0,<4.0.0
omegaconf>=2.3.0,<3.0.0

# ============================================================================
# CORE DATA SCIENCE — Foundational libraries
# ============================================================================
numpy>=1.26.0,<3.0.0  # numpy 2.x stable, 1.26+ has Python 3.12 wheels
pandas>=2.2.0,<3.0.0  # 2.2+ recommended for Python 3.12
scipy>=1.13.0,<2.0.0  # 1.13+ for Python 3.12
scikit-learn>=1.5.0,<2.0.0  # 1.5+ has better Python 3.12 support

# ============================================================================
# VISUALIZATION — Interactive dashboards and polished outputs
# ============================================================================
plotly>=5.24.0,<6.0.0  # 5.24+ fixes kaleido issues
matplotlib>=3.9.0,<4.0.0  # 3.9+ for Python 3.12
seaborn>=0.13.2,<1.0.0
kaleido==0.2.1  # Pin exact version - auto-detection works better
rich>=13.9.0,<14.0.0

# ============================================================================
# JUPYTER ENVIRONMENT — Notebook experience
# ============================================================================
jupyterlab>=4.2.0,<5.0.0  # 4.2+ stable for Python 3.12
ipywidgets>=8.1.0,<9.0.0
pickleshare>=0.7.5,<1.0.0

# ============================================================================
# DATA FORMATS & I/O — File handling and serialization
# ============================================================================
openpyxl>=3.1.0,<4.0.0
xlrd>=2.0.1,<3.0.0
lxml>=5.3.0,<6.0.0  # 5.3+ for Python 3.12
pyarrow>=17.0.0,<19.0.0  # 17+ has good Python 3.12 wheels
fastparquet>=2024.5.0,<2025.0.0

# ============================================================================
# TIME SERIES LIBRARIES — Nixtla ecosystem
# ============================================================================
datasetsforecast>=0.0.8,<1.0.0
statsforecast>=1.7.7,<2.0.0  # 1.7.7+ for compatibility
mlforecast>=0.13.3,<1.0.0
neuralforecast>=1.7.4,<2.0.0  # Check compatibility with torch version

# ============================================================================
# FEATURE ENGINEERING — Domain-specific transforms
# ============================================================================
category_encoders>=2.6.0,<3.0.0
window_ops>=0.0.15,<1.0.0
tsfel>=0.1.8,<1.0.0
pymannkendall>=1.4.3,<2.0.0
holidays>=0.58,<1.0.0  # Recent update, more stable

# ============================================================================
# STATISTICAL MODELS — Classical approaches
# ============================================================================
statsmodels>=0.14.4,<0.15.0  # 0.14.4 for Python 3.12

# ============================================================================
# GRADIENT BOOSTING — Tree-based models
# ============================================================================
xgboost>=2.1.0,<3.0.0  # 2.1+ has Python 3.12 wheels
catboost>=1.2.7,<2.0.0  # 1.2.7+ for Python 3.12
lightgbm>=4.5.0,<5.0.0  # 4.5+ critical for Python 3.12

# ============================================================================
# EXPERIMENT TRACKING — Hyperparameter tuning
# ============================================================================
optuna>=4.0.0,<5.0.0  # 4.0 is stable now
kaggle>=1.6.0,<2.0.0

# ============================================================================
# UTILITIES — Quality of life improvements
# ============================================================================
missingno>=0.5.2,<1.0.0
networkx>=3.3,<4.0.0
humanize>=4.11.0,<5.0.0
tqdm>=4.66.0,<5.0.0
numba>=0.60.0,<1.0.0  # 0.60+ required for Python 3.12

# ============================================================================
# REMOVED / COMMENTED OUT — Compatibility issues
# ============================================================================
# pytorch_tabular[all] — Check compatibility separately, complex dependencies
# tensor-sensor[torch] — Not maintained, conflicts with torch 2.x